<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/html">

<link rel="stylesheet" href="https://cdn.webix.com/edge/webix.css" type="text/css" charset="utf-8">
<link rel="stylesheet" type="text/css" href="./styles.css">
<script src="https://cdn.webix.com/edge/webix.js" type="text/javascript" charset="utf-8"></script>
<head>
    <meta charset="UTF-8">
    <title>Interface</title>
</head>
<body style="background: blueviolet">
        <script type="text/javascript" charset="utf-8">
            webix.ui({
                id:"ui",
                type:"wide",
                padding: 15,
                css: "ui",
                cols: [
                    {
                        rows:[
                            {  template:"Opportunities", height: 30,css:"lable"},
                            {   view:"list",
                                id:"Opportunities",
                                dynamic: true,
                                template:"#id# - #opportunityName#",
                                select:true,
                                drag: true
                                },
                            { view:"toolbar",css:"buttonHolder", elements:[
                                    {css:"bt_1",view:"button",id:"import", value:"Import", height:30 },
                                    {css:"bt_1",view:"button",id:"delete", value:"Delete", height:30 }
                                ]
                            }]
                    },
                    {type: "wide",
                        rows:[
                            { template:"Stages" ,height: 30,css:"lable"},
                            {
                                view:"textarea",
                                id:"Stages",
                                value:"",
                                height:60
                            }

                            ]
                    },
                    {type: "wide",
                        rows: [
                            {rows:[
                                    {template:"Log",height:30,css:"lable"},
                                    {view:"textarea",
                                        id:"Log",
                                        value:""
                                    }
                                ]
                            },
                            {
                                id:"CurrentAdvances",
                                hidden: true,
                                animate:{type:"slide",subtype:"in"},
                                rows:[
                                    {template:"Current Advances",height:30},
                                    {view:"form",
                                        elements:[
                                            {
                                                view:"text",
                                                value:"I am a text and i have a meaning"
                                            },
                                            {
                                                view:"label",
                                                label:"The part that you chose from string"
                                            },
                                            {
                                                view:"richselect",
                                                placeholder: "Type of keyword",
                                                options:
                                                    [
                                                        "There are",
                                                        "Many keywords",
                                                        "And you",
                                                        "Are choosing",
                                                        "From them"
                                                    ]
                                            },
                                            {
                                                view:"button",
                                                label:"Assign keyword"
                                            }
                                        ]
                                     }
                                ]},
                            { view:"toolbar",css:"buttonHolder", elements:[
                                    {view:"button",css:"bt_1",id:"buttonAdvances", value:"Current Advances", height:30 },
                                    {view:"button",css:"bt_1",id:"export", value:"Export", height:30 },
                                    {view:"button",css:"bt_1",id:"SalesForce", value:"SF", height:30 }
                                ]
                            }
                        ]
                    }
                ]
            });

            $$("Opportunities").load("http://localhost:63343/Interface/data_test.json");
        $$("Opportunities").attachEvent("onItemClick", function(id){
        var stage = this.getItem(id).stage;
        var logs = this.getItem(id).logs;
        $$("Stages").setValue(stage);
        $$("Log").setValue(logs);
        webix.message("All done");
        return true;
        });
        $$("buttonAdvances").attachEvent("onItemClick", function(){
            if($$("CurrentAdvances").isVisible()) {
                $$("CurrentAdvances").hide();
            }
            else{$$("CurrentAdvances").show()}
        return true;
        });
        </script>
</body>
</html>